<template>
    <!-- Product Detail Modal -->
    <c-modal size="medium" class="product-detail">
        <!-- Modal Header -->
        <span slot="title">Product detail</span>

        <!-- Modal Body -->
        <div slot="content">
            <div class="slds-grid slds-gutters slds-var-p-around_large">
                <!-- Product Image -->
                <div class="slds-col slds-size_1-of-3 slds-align_absolute-center"><img class="product"
                        src={product.Image__c}></div>

                <!-- Product Detail -->
                <div class="slds-col">
                    <div class="slds-grid slds-grid_vertical">
                        <!-- Category -->
                        <div class="slds-col slds-text-title_caps l">{product.Family}</div>

                        <!-- Name -->
                        <div class="slds-col slds-text-heading_medium slds-var-m-bottom_small">{product.Name}</div>

                        <!-- Price -->
                        <div class="slds-col slds-var-m-bottom_small price">${productPrice}</div>

                        <!-- Rating -->
                        <div class="slds-col slds-var-m-bottom_medium">
                            <img src="https://i.ibb.co/D5pLJ4Q/stars.png" class="star" />
                            &nbsp; &nbsp;
                            <span class="rating">{product.Rating__c}
                                ({product.Rating_Count__c}
                                reviews) </span>
                        </div>

                        <!-- Description -->
                        <div class="slds-col slds-text-body_regular slds-var-m-bottom_small description">
                            {product.Description}</div>

                        <!-- Product Quantity -->
                        <div class="slds-col">
                            <div class="counter"><c-counter onchange={handleCounterChange}></c-counter></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Modal Footer -->
        <div slot="footer">
            <!-- Conditional rendering of Add or Remove Button -->
            <template lwc:if={isInCart}>
                <lightning-button variant="destructive" label="Remove from cart" onclick={handleCartRemoveClick}
                    disabled={disabled}></lightning-button>
            </template>
            <template lwc:else>
                <lightning-button variant="brand" label="Add to cart" onclick={handleAddToCartClick}
                    disabled={disabled}></lightning-button>
            </template>
        </div>
    </c-modal>
</template>